<!DOCTYPE html>
<!--suppress HtmlUnknownTag, HtmlUnknownTarget -->
<html lang="en">
    <head>
        <title>Testing base library</title>
        <meta charset="utf-8">
        <link rel="stylesheet" media="all" href="../css/linkpurpose.css">
        <script src="../js/linkpurpose.js"></script>
    </head>
<body>
    <header>
        <h1>Link Purpose tests</h1>
    </header>
    <main>
        <div id="positive">
            <h2>Icons shown</h2>

            <section id="external">
                <ul>
                    <li>
                        <a href="https://www.princeton.edu">External links</a>
                    </li>
                    <li>
                        <a href="https://www.princeton.edu">External links with trailing whitespace </a>
                    </li>
                    <li style="width: 20em;">
                        An <a href="https://www.princeton.edu">External link inline</a> in a sentence that breaks over several lines, followed by more words on a line that should have the same line height.
                    </li>
                </ul>

            </section>
            <section id="new-window">
                <ul>
                    <li>
                        <a href="/" target="_blank">_Blank link</a>
                    </li>
                </ul>
            </section>
            <section id="document">
                <ul>
                    <li>
                        <a href="/example.pdf">My CV</a>
                    </li>
                    <li>
                        <a href="/example.pdf" download="">My CV and dwnld attribute, CV should win</a>
                    </li>
                    <li>
                        <a href="/example.pdf" target="_blank">CV and _blank, CV should win</a>
                    </li>
                </ul>
            </section>

            <section id="protocol">
                <ul>
                    <li>
                        <a href="Zoom://" target="_blank">App protocol link</a>
                    </li>
                </ul>
            </section>

            <section id="email">
                <ul>
                    <li>
                        <a href="mailto:example@example.com">Contact us</a>
                    </li>
                    <li>
                        <a href="mailto:example@example.com">Contact us in new window</a>
                    </li>
                </ul>
            </section>

            <section id="download">
                <ul>
                    <li>
                        <a href="/" download>Zip</a>
                    </li>
                    <li>
                        <a href="https://www.princeton.edu" download target="_blank">Zip from external in _blank link</a>
                    </li>
                </ul>

            </section>
            <section id="phone">
                <ul>
                    <li>
                        <a href="tel:123">Call</a>
                    </li>
                </ul>

            </section>
            <section id="iconHidden">
                <h3>Icon present but hidden</h3>
                <ul>
                    <li>
                        <a href="/" download><img src="download_FILL0_wght400_GRAD0_opsz24.svg">Link with image</a>
                    </li>
                    <li>
                        <a href="/" download><span><img src="download_FILL0_wght400_GRAD0_opsz24.svg"></span>Link with nested image</a>
                    </li>
                    <li>
                        <a href="/" download><figure>(fig)</figure>Link with figure</a>
                    </li>
                </ul>
                <h3>Icon has modified hidden text</h3>
                <ul>
                    <li>
                        <a href="mailto:example@example.com">example@example.com</a>
                    <li>
                        <a href="/" download>Download</a>
                    </li>
                    <li>
                        <a href="/example.ppt">Example (.doc)</a>
                    </li>
                    <li>
                        <a href="/" download>Download (opens in new window)</a>
                    </li>
                    <li>
                        <a href="/" download target="_blank">Link that warns about download but not where it opens (some screen reader text)</a>
                    </li>
                </ul>
            </section>
        </div>
        <div id="negative">
            <h2>Icons not shown</h2>
            <ul>
                <li>
                    <a href="javascript:">JS Href should be ignored</a>
                </li>
                <li>
                    <a href="/?http%3A%2F%2F">HTTP as query variable should be ignored</a>
                </li>
            </ul>
        </div>
        <div id="positive">
            <h2>Icons inserted outside of a hidden element</h2>
            <ul>
                <li>
                    <a href="/" download target="_blank">Icon should be inserted inside this <span class="not-visually-hidden" style="opacity: .35;">hidden span not in the match list</span></a>
                </li>
                <li>
                    <a href="/" download target="_blank">Icon should not be inserted inside this <span class="visually-hidden" style="opacity: .25;">hidden span</span></a>
                </li>
                <li>
                    <a href="/" download target="_blank">Icon should be inserted after this <span><span class="visually-hidden" style="opacity: .25;">nested hidden span</span></span></a>
                </li>
                <li>
                    <a href="/" download target="_blank">variants<span class="visually-hidden" style="opacity: .25;"></span></a>
                    <a href="/" download target="_blank">variants<span class="visually-hidden" style="opacity: .25;"></span> </a>
                    <a href="/" download target="_blank"><span class="visually-hidden" style="opacity: .25;"></span>variants</a>
                    <a href="/" download target="_blank"></a>

                </li>

            </ul>
        </div>
        <div id="positive">
            <h2>Trimming</h2>
            <ul><li>
                <h2 class="block-heading"><a href="/" download="">Digital Accessibility?&nbsp; &ensp; &hairsp; &thinsp;

                </a>|</h2>
            </li>
            <li><a href="/" download=""><span>Move trailing whitespace</span> </a>| </li></ul>
        </div>







        <!-- Instantiate-->
        <!--suppress JSUnusedGlobalSymbols -->
        <script>

          if (CSS.supports('selector(:is(body))')) {
            const linkPurpose = new LinkPurpose({

              noReferrer: true,
              noIconOnImages: true,
              purposes: {
                spreadsheet: {
                  priority: 50, // Higher numbers "win," e.g., mark external spreadsheets as spreadsheet
                  selector: '[href$=\'.xls\'], [href*=\'.xls?\'], [href^="https://docs.google.com/spreadsheets/"]',
                  message: '(Link downloads spreadsheet)', // Hidden text for screen readers
                  linkClass: 'link-purpose-spreadsheet', // Goes on link
                  iconWrapperClass: 'link-purpose-spreadsheet-icon', // Goes on span around icon
                  iconPosition: 'beforeend', // beforebegin, afterbegin, beforeend, afterend
                  iconType: 'classes', // Apply classes to a span to create link
                  iconClasses: ['fa-regular', 'fa-file-excel'], // Apply these classes
                },
                external: {
                  newWindow: true
                }
              }
          })

          };

        </script>

        <style>
            body {
                padding: 2rem 5%;
            }
            a:hover {
                color: wheat;
                background-color: brown;
            }
            .link-purpose::before {
                font-family: sans-serif;
                font-size: 12px;
                margin: 0 .25rem;
                font-style: italic;
                color: black;
            }
            .visually-hidden {
                position: absolute;
                overflow: hidden;
                clip: rect(0 0 0 0);
                clip-path: inset(50%);
                width: 1px;
                height: 1px;
                white-space: nowrap;
            }
        </style>
    </main>
</body>
